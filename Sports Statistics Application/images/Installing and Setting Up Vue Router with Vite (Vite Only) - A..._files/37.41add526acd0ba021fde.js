(window.webpackJsonp=window.webpackJsonp||[]).push([[37,43],{12:function(n,e,t){"use strict";function s(n,e,t,s,a,i,o,r){var l,c="function"==typeof n?n.options:n;if(e&&(c.render=e,c.staticRenderFns=t,c._compiled=!0),s&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),o?(l=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),a&&a.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(o)},c._ssrRegister=l):a&&(l=r?function(){a.call(this,this.$root.$options.shadowRoot)}:a),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(n,e){return l.call(e),d(n,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:n,options:c}}t.d(e,"a",function(){return s})},69:function(n,e){n.exports=function(n){var e=[];return e.toString=function(){return this.map(function(e){var t=function(n,e){var t=n[1]||"",s=n[3];if(!s)return t;if(e&&"function"==typeof btoa){var a=function(n){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"}(s),i=s.sources.map(function(n){return"/*# sourceURL="+s.sourceRoot+n+" */"});return[t].concat(i).concat([a]).join("\n")}return[t].join("\n")}(e,n);return e[2]?"@media "+e[2]+"{"+t+"}":t}).join("")},e.i=function(n,t){"string"==typeof n&&(n=[[null,n,""]]);for(var s={},a=0;a<this.length;a++){var i=this[a][0];"number"==typeof i&&(s[i]=!0)}for(a=0;a<n.length;a++){var o=n[a];"number"==typeof o[0]&&s[o[0]]||(t&&!o[2]?o[2]=t:t&&(o[2]="("+o[2]+") and ("+t+")"),e.push(o))}},e}},70:function(n,e,t){"use strict";function s(n,e){for(var t=[],s={},a=0;a<e.length;a++){var i=e[a],o=i[0],r={id:n+":"+a,css:i[1],media:i[2],sourceMap:i[3]};s[o]?s[o].parts.push(r):t.push(s[o]={id:o,parts:[r]})}return t}t.r(e),t.d(e,"default",function(){return f});var a="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!a)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},o=a&&(document.head||document.getElementsByTagName("head")[0]),r=null,l=0,c=!1,d=function(){},u=null,p="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(n,e,t,a){c=t,u=a||{};var o=s(n,e);return v(o),function(e){for(var t=[],a=0;a<o.length;a++){var r=o[a];(l=i[r.id]).refs--,t.push(l)}e?v(o=s(n,e)):o=[];for(a=0;a<t.length;a++){var l;if(0===(l=t[a]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete i[l.id]}}}}function v(n){for(var e=0;e<n.length;e++){var t=n[e],s=i[t.id];if(s){s.refs++;for(var a=0;a<s.parts.length;a++)s.parts[a](t.parts[a]);for(;a<t.parts.length;a++)s.parts.push(g(t.parts[a]));s.parts.length>t.parts.length&&(s.parts.length=t.parts.length)}else{var o=[];for(a=0;a<t.parts.length;a++)o.push(g(t.parts[a]));i[t.id]={id:t.id,refs:1,parts:o}}}}function _(){var n=document.createElement("style");return n.type="text/css",o.appendChild(n),n}function g(n){var e,t,s=document.querySelector("style["+p+'~="'+n.id+'"]');if(s){if(c)return d;s.parentNode.removeChild(s)}if(h){var a=l++;s=r||(r=_()),e=m.bind(null,s,a,!1),t=m.bind(null,s,a,!0)}else s=_(),e=function(n,e){var t=e.css,s=e.media,a=e.sourceMap;s&&n.setAttribute("media",s);u.ssrId&&n.setAttribute(p,e.id);a&&(t+="\n/*# sourceURL="+a.sources[0]+" */",t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}.bind(null,s),t=function(){s.parentNode.removeChild(s)};return e(n),function(s){if(s){if(s.css===n.css&&s.media===n.media&&s.sourceMap===n.sourceMap)return;e(n=s)}else t()}}var y=function(){var n=[];return function(e,t){return n[e]=t,n.filter(Boolean).join("\n")}}();function m(n,e,t,s){var a=t?"":s.css;if(n.styleSheet)n.styleSheet.cssText=y(e,a);else{var i=document.createTextNode(a),o=n.childNodes;o[e]&&n.removeChild(o[e]),o.length?n.insertBefore(i,o[e]):n.appendChild(i)}}},820:function(n,e,t){"use strict";t.r(e);var s=t(852),a=t(830),i=t.n(a),o={props:{id:{required:!0},lesson_id:{default:null},lesson_title:{default:null},course_id:{default:null},course_title:{default:null},next_lesson_url:{default:null},previous_lesson_url:{default:null},show_controls:{default:!1},userIsGuest:{default:!0},userHasSubscription:{default:!1},duringFreeWeekend:{default:!1}},data(){return{started:!1,options:{id:this.id,loop:!1,portrait:!1,title:!1,byline:!1,responsive:!0},tracking:{segmentSize:this.lesson_id?30:10},player:null,speedDropdownOpen:!1,speed:1,autoplay:!1,trackProgress:null}},methods:{async lessonStarted(){if(this.started)return!1;if(!this.userIsGuest){const n=await axios.get(`/api/courses/${this.course_id}/progress`);n.data&&0===n.data.lessons_watched&&this.$mixpanel.track("Course Started",{course_id:this.course_id,course:this.course_title})}this.$mixpanel.track("Lesson Started",{lesson_id:this.lesson_id,lesson:this.lesson_title,course_id:this.course_id,course:this.course_title}),this.started=!0},async lessonWatched(){if(!this.lesson_id)return!1;this.userIsGuest||await axios.post(`/api/lessons/${this.lesson_id}/watch`);let n={lesson_id:this.lesson_id,lesson:this.lesson_title,course_id:this.course_id,course:this.course_title};if(this.$mixpanel.track("Lesson Finished",n),this.duringFreeWeekend&&18==this.course_id&&this.$mixpanel.track("Masterclass Free Weekend Lesson Watched",n),!this.userIsGuest){const n=await axios.get(`/api/courses/${this.course_id}/progress`);n.data&&100===n.data.progress_percentage&&this.$mixpanel.track("Course Finished",{course_id:this.course_id,course:this.course_title})}},setSpeed(n){this.speed=n.target.innerText,this.player.setPlaybackRate(this.speed),this.speedDropdownOpen=!1},updateCurrentTime(n){this.player.getCurrentTime().then(e=>{let t=e+n;t=t>0?t:0,this.player.setCurrentTime(t)})},goToNextLesson(){this.next_lesson_url&&(window.location.href=this.next_lesson_url)},goToPreviousLesson(){this.previous_lesson_url&&(window.location.href=this.previous_lesson_url)},showSaveProgressModal(){this.$modal.show("SaveProgressModal",{onSuccess:()=>{this.lessonWatched(),this.goToNextLesson()}})},showNextLessonModal(){this.$modal.show("NextLessonModal",{onSuccess:()=>{this.goToNextLesson()}})},onboard(){window.location.href="/plans"}},watch:{autoplay(n){i.a.set("toggle-autoplay",n)}},mounted(){this.player=new s.a(this.$refs["vimeo-player"],this.options),i.a.get("toggle-autoplay")&&this.player.play(),this.player.on("playbackratechange",n=>{i.a.set("vs-player-playbackRate",n.playbackRate)}),this.player.on("play",()=>{this.lessonStarted();const n=1e3*this.tracking.segmentSize;this.trackProgress&&clearInterval(this.trackProgress),this.trackProgress=setInterval(()=>{Promise.resolve().then(t.t.bind(null,11,7)).then(n=>{const e=this.lesson_id?"/api/track/lesson/"+this.lesson_id:"/api/track/sample";n.post(e,{video_id:this.id,duration:this.tracking.segmentSize})})},n)}),this.player.on("pause",()=>{clearInterval(this.trackProgress)}),this.player.on("texttrackchange",n=>{i.a.set("vs-player-captions",n.language?n.language:"disabled")}),this.player.on("ended",()=>{window.Vueschool.user?(this.lessonWatched(),i.a.get("toggle-autoplay")&&this.next_lesson_url&&this.showNextLessonModal()):this.showSaveProgressModal()}),r(this)}};const r=n=>{n.autoplay=!!i.a.get("toggle-autoplay");const e=n.player;i.a.get("vs-player-playbackRate")&&(n.speed=i.a.get("vs-player-playbackRate"),e.setPlaybackRate(n.speed)),i.a.get("vs-player-captions")?("showing"===i.a.get("vs-player-captions")&&i.a.set("vs-player-captions","en-US"),"disabled"!==i.a.get("vs-player-captions")&&e.enableTextTrack(i.a.get("vs-player-captions"))):e.enableTextTrack("en-US")};var l=o,c=(t(831),t(12)),d=Object(c.a)(l,function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"bg-indigo-dark"},[t("div",{ref:"vimeo-player",staticClass:"vimeo-player",style:19==n.course_id?"height:856px":""}),n._v(" "),n._t("default"),n._v(" "),n.show_controls?t("div",{staticClass:"video-controls"},[t("ul",[t("li",{class:{disabled:!n.previous_lesson_url},on:{click:n.goToPreviousLesson}},[t("i",{staticClass:"fas fa-angle-left"}),n._v(" "),t("span",{staticClass:"label"},[n._v("Previous")])]),n._v(" "),t("li",{on:{click:function(e){return n.updateCurrentTime(-10)}}},[t("i",{staticClass:"fas fa-angle-double-left"}),n._v(" "),t("span",{staticClass:"label"},[n._v("-10s")])])]),n._v(" "),t("ul",[t("li",{staticClass:"speed relative"},[t("span",{staticClass:"text-center flex items-center",on:{click:function(e){n.speedDropdownOpen=!n.speedDropdownOpen}}},[t("i",{staticClass:"fas fa-tachometer"}),n._v(" "),t("br",{staticClass:"mobile-only"}),t("span",[n._v(n._s(n.speed)+"x")])]),n._v(" "),t("ul",{staticClass:"dropdown",class:{"dropdown-open":n.speedDropdownOpen}},[t("li",{on:{click:n.setSpeed}},[n._v("0.75")]),n._v(" "),t("li",{on:{click:n.setSpeed}},[n._v("0.85")]),n._v(" "),t("li",{on:{click:n.setSpeed}},[n._v("1.00")]),n._v(" "),t("li",{on:{click:n.setSpeed}},[n._v("1.25")]),n._v(" "),t("li",{on:{click:n.setSpeed}},[n._v("1.50")]),n._v(" "),t("li",{on:{click:n.setSpeed}},[n._v("1.75")]),n._v(" "),t("li",{on:{click:n.setSpeed}},[n._v("2.00")])])]),n._v(" "),t("li",[t("label",{staticClass:"flex items-center"},[t("div",{staticClass:"fas switch"},[t("input",{directives:[{name:"model",rawName:"v-model",value:n.autoplay,expression:"autoplay"}],attrs:{type:"checkbox",id:"autoplay"},domProps:{checked:Array.isArray(n.autoplay)?n._i(n.autoplay,null)>-1:n.autoplay},on:{change:function(e){var t=n.autoplay,s=e.target,a=!!s.checked;if(Array.isArray(t)){var i=n._i(t,null);s.checked?i<0&&(n.autoplay=t.concat([null])):i>-1&&(n.autoplay=t.slice(0,i).concat(t.slice(i+1)))}else n.autoplay=a}}}),n._v(" "),t("span",{staticClass:"slider round"})]),n._v(" "),t("div",{staticClass:"leading-normal",attrs:{for:"autoplay"}},[n._v("Auto Play")])])])]),n._v(" "),t("ul",{staticClass:"right"},[t("li",{on:{click:function(e){return n.updateCurrentTime(10)}}},[t("span",{staticClass:"label"},[n._v("+10s")]),n._v(" "),t("i",{staticClass:"fas fa-angle-double-right"})]),n._v(" "),t("li",{class:{disabled:!n.next_lesson_url},on:{click:n.goToNextLesson}},[t("span",{staticClass:"label"},[n._v("Next")]),n._v(" "),t("i",{staticClass:"fas fa-angle-right"})])])]):n._e()],2)},[],!1,null,"85a86954",null);e.default=d.exports},824:function(n,e,t){var s=t(832);"string"==typeof s&&(s=[[n.i,s,""]]),s.locals&&(n.exports=s.locals);(0,t(70).default)("be8f63aa",s,!0,{})},831:function(n,e,t){"use strict";var s=t(824);t.n(s).a},832:function(n,e,t){(n.exports=t(69)(!1)).push([n.i,'\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* The switch - the box around the slider */\n.switch[data-v-85a86954] {\n    position: relative;\n    display: inline-block;\n    width: 25px; /* 60 */\n    height: 15px; /* 34 */\n    margin-right: 5px;\n}\n\n/* Hide default HTML checkbox */\n.switch input[data-v-85a86954] {\n    display: none;\n}\n\n/* The slider */\n.slider[data-v-85a86954] {\n    position: absolute;\n    cursor: pointer;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: #a7a7a7;\n    -webkit-transition: .4s;\n    transition: .4s;\n}\n.slider[data-v-85a86954]:before {\n    position: absolute;\n    content: "";\n    height: 11px;\n    width: 11px;\n    left: 2px;\n    bottom: 2px;\n    background-color: #2c3234;\n    -webkit-transition: .4s;\n    transition: .4s;\n}\ninput:checked + .slider[data-v-85a86954] {\n    background-color: #57AD8D;\n}\ninput:focus + .slider[data-v-85a86954] {\n    box-shadow: 0 0 1px #57AD8D;\n}\ninput:checked + .slider[data-v-85a86954]:before {\n    -webkit-transform: translateX(10px);\n    -ms-transform: translateX(10px);\n    transform: translateX(10px);\n}\n\n/* Rounded sliders */\n.slider.round[data-v-85a86954] {\n    border-radius: 34px;\n}\n.slider.round[data-v-85a86954]:before {\n    border-radius: 50%;\n}\n',""])}}]);
//# sourceMappingURL=~/bundles/37.41add526acd0ba021fde.js.map